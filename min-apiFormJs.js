var log = console.log; $(document).ready(function () { $("#ButtonSend").on("click", function () { $(this).attr("disabled", "disabled"); let e = document.getElementById("first_name").value, a = document.getElementById("last_name").value, t = document.getElementById("email").value, n = document.getElementById("mobile").value, l = document.getElementById("00N5f00000SB1X0").value, o = document.getElementById("00N5f00000SB1Ws").value, i = document.getElementById("meetingTypePerson").value, s; sendData(e, a, t, n, l, o, i, document.getElementById("message").value, document.getElementById("00N5f00000SB1XU").value) }) }); const sendData = (e, a, t, n, l, o, i, s, d) => { document.getElementById("ButtonSend").style.backgroundColor = "gray", document.getElementById("ButtonSend").innerHTML = "Sending Data", createLeadApi(e, a, t, n, l, o, d, s), document.getElementById("mobileInput").innerHTML = "" }, createLeadApi = (e, a, t, n, l, o, i, s = "-") => { $.ajax({ type: "POST", url: "apiData.php", data: { FirstName: e, LastName: a, Email: t, LeadSource: "EP-CA-Website", MobilePhone: n, Location__c: l, Language__c: o, SMS_Opt_In__c: i, comments: s }, dataType: "json", success: function (i) { var d = ""; let c = i.id; log(`ID: ${c}`); let r = getLocation(l); sendEmail(e, a, t, n, o, c, s), "" == c || null == c || void 0 == c ? window.location.href = "https://abogadoericprice.com/thanks.html" : (d = "National" != l ? `https://greencardla.my.site.com/s/onlinescheduler?processId=a1h5f000000nAJCAA2&locationType=OUR_LOCATION&WhatId=a1n5f0000006fzTAAQ&WhereID=${r}&sumoapp_WhoId=0055f000007NE9T&clientId=${c}` : `https://greencardla.my.site.com/s/onlinescheduler?processId=a1h5f000000nAJZAA2&locationType=VID_CONFERENCE&WhatId=a1n5f0000006fzTAAQ&WhereID=a1b5f000000enBiAAI&sumoapp_WhoId=0055f000007NE9T&clientId=${c}`, window.location.href = d) }, error: function (e) { window.location.href = "https://abogadoericprice.com/thanks.html" } }) }, getLocation = e => { var a = ""; let t = "a1b5f000000eT4OAAU", n = "a1b5f000000eT4PAAU", l = "a1b5f000000eT8bAAE", o = "a1b5f000000eT8gAAE", i = "a1b5f000000enBnAAI", s = "a1b5f000001signAAA"; switch (e) { case "Los Angeles": case "National": a = t; break; case "Orange County": a = n; break; case "San Diego": a = l; break; case "San Marcos": a = o; break; case "Chicago": a = i; break; case "San Bernardino": a = s; break; default: a = strval(t) }return a }, sendEmail = (e, a, t, n, l, o, i) => { $.ajax({ type: "POST", url: "sendEmail.php", data: { FirstName: e, LastName: a, Email: t, MobilePhone: n, Language: l, leadID: o, question: i } }) };